{% extends '@__main__/layout.twig' %}

{% block meta %}
    <meta property="og:title" content="{{ photo.title }}" />
    <meta property="og:url" content="{{ current_url() }}" />
    <meta property="og:image:width" content="{{ set.thumbnail.width_c }}" />
    <meta property="og:image:height" content="{{ set.thumbnail.height_c }}" />
    <meta property="og:image" content="{{ set.thumbnail.url_c }}" />
    <link rel="image_src" href="{{ set.thumbnail.url_c }}" />
{% endblock %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{{ base_url }}/ui/lib/justifiedGallery.min/justifiedGallery.min.css" media="screen" />
{% endblock %}


{% block contents %}
    <!-- viewbox -->
    <div id="viewbox">
        <div class="img-container">
            <div>
                <img src="{{ photo.url_z }}" class="" />
                <img src="{{ photo.url_vb }}" class="" />
            </div>
        </div>
        <div class="tools row">
            <div class="col-xs-6 title">
                <a href="#">
                    <i class="glyphicon glyphicon-picture"></i>
                    <span>{{ photo.title }}</span>
                </a>
            </div>
            <div class="col-xs-6 text-right">
                <a href="{{ url_for('photo_download', { 'album': set.id, 'photo': photo.id }) }}" class="download" title="Lae alla">
                    <i class="glyphicon glyphicon-save"></i>
                </a>
            </div>
        </div>
    </div>
    <!-- th -->
    <img class="thumbnail hidden"
         data-original="{{ photo.url_z }}"
         style="width:{{ photo.th_w }}px;height:{{ photo.th_h }}px;margin-left:{{ photo.th_ml }}px;margin-top:{{ photo.th_mt }}px"
         data-vb-src="{{ photo.url_vb }}"
         data-vb-w="{{ photo.width_vb }}"
         data-vb-h="{{ photo.height_vb }}" />
{% endblock %}

{% block scripts %}
    <script src="{{ base_url }}/ui/js/photo.js" type="text/javascript"></script>
{% endblock %}
